(self.webpackChunk=self.webpackChunk||[]).push([[378],{1376:(e,t,r)=>{var n=r(9755);function a(e,t,r,n,a,s,o){try{var i=e[s](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var o=e.apply(t,r);function i(e){a(o,n,s,i,c,"next",e)}function c(e){a(o,n,s,i,c,"throw",e)}i(void 0)}))}}r(3076),r(1249),r(9826),r(1539),r(8674);var o=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}),i=!1;n(document).ready((function(){var e=function(){n(".sousModules").map((function(){0===n(this).parent().find(".inputOperation").not(":checked").length&&n(this).find(".inputSousModule").prop("checked",!0)})),n(".modules").map((function(){0===n(this).parent().find(".inputSousModule").not(":checked").length&&n(this).find(".inputModule").prop("checked",!0)})),0===n(".modules").find(".inputModule").not(":checked").length&&n(".tous").prop("checked",!0)},t=n("#datatables_gestion_users").DataTable({lengthMenu:[[10,15,25,50,100,2e13],[10,15,25,50,100,"All"]],order:[[0,"desc"]],ajax:"/parametre/user/list",processing:!0,serverSide:!0,deferRender:!0,language:datatablesFrench});n("body").on("click","#datatables_gestion_users tbody tr",(function(){n(this).hasClass("active_databales")?(n(this).removeClass("active_databales"),i=null):(n("#datatables_gestion_users tbody tr").removeClass("active_databales"),n(this).addClass("active_databales"),i=n(this).attr("id"))})),n("#privillege").on("click",function(){var t=s(regeneratorRuntime.mark((function t(r){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n(".privilege input:checkbox").prop("checked",!1),a=n("#privillege i"),i){t.next=6;break}return o.fire({icon:"error",title:"Veuillez selection une ligne!"}),t.abrupt("return");case 6:return t.prev=6,a.remove("fa-plus").addClass("fa-spinner fa-spin "),t.next=10,axios.post("/parametre/user/getoperations/"+i);case 10:s=t.sent,s.data.map((function(e){console.log(e),n(".buttons ."+e.id).prop("checked",!0)})),a.addClass("fa-plus").removeClass("fa-spinner fa-spin "),e(),n("#privillege-modal").modal("show"),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(6),t.t0.response.data,console.log(t.t0,t.t0.response),a.addClass("fa-plus").removeClass("fa-spinner fa-spin ");case 23:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}()),n(".Collapsable").on("click",(function(){n(this).parent().children().toggle(),n(this).toggle()})),n(".inputSousModule").on("click",s(regeneratorRuntime.mark((function t(){var r,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n(this).attr("data-module"),n(this).is(":checked")?(n(this).parent().parent().find(".inputOperation").prop("checked",!0),r="/parametre/user/sousmodule/"+a+"/"+i+"/add"):(n(this).parent().parent().find(".inputOperation").prop("checked",!1),r="/parametre/user/sousmodule/"+a+"/"+i+"/remove"),e(),t.prev=3,t.next=6,axios.post(r);case 6:s=t.sent,s.data,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),c=t.t0.response.data,o.fire({icon:"error",title:c});case 14:case"end":return t.stop()}}),t,this,[[3,10]])})))),n(".inputModule").on("click",s(regeneratorRuntime.mark((function t(){var r,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n(this).attr("data-id"),n(this).is(":checked")?(n(this).parent().parent().find("input:checkbox").prop("checked",!0),r="/parametre/user/module/"+a+"/"+i+"/add"):(n(this).parent().parent().find("input:checkbox").prop("checked",!1),r="/parametre/user/module/"+a+"/"+i+"/remove"),e(),t.prev=3,t.next=6,axios.post(r);case 6:s=t.sent,s.data,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),c=t.t0.response.data,o.fire({icon:"error",title:c});case 14:case"end":return t.stop()}}),t,this,[[3,10]])})))),n(".inputOperation").on("click",s(regeneratorRuntime.mark((function t(){var r,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n(this).attr("data-operation"),r=n(this).is(":checked")?"/parametre/user/operation/"+a+"/"+i+"/add":"/parametre/user/operation/"+a+"/"+i+"/remove",e(),t.prev=3,t.next=6,axios.post(r);case 6:s=t.sent,s.data,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),c=t.t0.response.data,o.fire({icon:"error",title:c});case 14:case"end":return t.stop()}}),t,this,[[3,10]])})))),n(".tous").on("click",s(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(this).is(":checked")?(n(".tous").parent().parent().find("input:checkbox").prop("checked",!0),r="/parametre/user/all/"+i+"/add"):(n(".tous").parent().parent().find("input:checkbox").prop("checked",!1),r="/parametre/user/all/"+i+"/remove"),e(),t.prev=2,t.next=5,axios.post(r);case 5:a=t.sent,a.data,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),s=t.t0.response.data,o.fire({icon:"error",title:s});case 13:case"end":return t.stop()}}),t,this,[[2,9]])})))),n("body").on("click",".disable",s(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(this).attr("id"),e.prev=1,e.next=4,axios.post("/parametre/user/active/"+r+"/0");case 4:a=e.sent,a.data,t.ajax.reload(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s=e.t0.response.data,o.fire({icon:"error",title:s});case 13:case"end":return e.stop()}}),e,this,[[1,9]])})))),n("body").on("click",".enable",s(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(this).attr("id"),e.prev=1,e.next=4,axios.post("/parametre/user/active/"+r+"/1");case 4:a=e.sent,a.data,t.ajax.reload(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s=e.t0.response.data,o.fire({icon:"error",title:s});case 13:case"end":return e.stop()}}),e,this,[[1,9]])})))),n("body").on("click",".btn_reinitialiser",s(regeneratorRuntime.mark((function e(){var r,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(this).attr("id"),(a=n(this).find("i")).remove("fa-sync").addClass("fa-spinner fa-spin "),e.prev=3,e.next=6,axios.post("/reinitialiser/"+r);case 6:s=e.sent,c=s.data,t.ajax.reload(),a.addClass("fa-sync").removeClass("fa-spinner fa-spin "),o.fire({icon:"success",title:c}),i=flase,e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),u=e.t0.response.data,a.addClass("fa-sync").removeClass("fa-spinner fa-spin "),o.fire({icon:"error",title:u});case 19:case"end":return e.stop()}}),e,this,[[3,14]])}))))}))},1223:(e,t,r)=>{var n=r(5112),a=r(30),s=r(3070),o=n("unscopables"),i=Array.prototype;null==i[o]&&s.f(i,o,{configurable:!0,value:a(null)}),e.exports=function(e){i[o][e]=!0}},2092:(e,t,r)=>{var n=r(9974),a=r(1702),s=r(8361),o=r(7908),i=r(6244),c=r(5417),u=a([].push),p=function(e){var t=1==e,r=2==e,a=3==e,p=4==e,d=6==e,l=7==e,f=5==e||d;return function(h,v,m,k){for(var x,g,b=o(h),w=s(b),y=n(v,m),C=i(w),R=0,O=k||c,j=t?O(h,C):r||l?O(h,0):void 0;C>R;R++)if((f||R in w)&&(g=y(x=w[R],R,b),e))if(t)j[R]=g;else if(g)switch(e){case 3:return!0;case 5:return x;case 6:return R;case 2:u(j,x)}else switch(e){case 4:return!1;case 7:u(j,x)}return d?-1:a||p?p:j}};e.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterReject:p(7)}},1194:(e,t,r)=>{var n=r(7293),a=r(5112),s=r(7392),o=a("species");e.exports=function(e){return s>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},7475:(e,t,r)=>{var n=r(7854),a=r(3157),s=r(4411),o=r(111),i=r(5112)("species"),c=n.Array;e.exports=function(e){var t;return a(e)&&(t=e.constructor,(s(t)&&(t===c||a(t.prototype))||o(t)&&null===(t=t[i]))&&(t=void 0)),void 0===t?c:t}},5417:(e,t,r)=>{var n=r(7475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},3157:(e,t,r)=>{var n=r(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},30:(e,t,r)=>{var n,a=r(9670),s=r(6048),o=r(748),i=r(3501),c=r(490),u=r(317),p=r(6200),d=p("IE_PROTO"),l=function(){},f=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;v="undefined"!=typeof document?document.domain&&n?h(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):h(n);for(var r=o.length;r--;)delete v.prototype[o[r]];return v()};i[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=a(e),r=new l,l.prototype=null,r[d]=e):r=v(),void 0===t?r:s(r,t)}},6048:(e,t,r)=>{var n=r(9781),a=r(3070),s=r(9670),o=r(5656),i=r(1956);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=o(t),c=i(t),u=c.length,p=0;u>p;)a.f(e,r=c[p++],n[r]);return e}},1956:(e,t,r)=>{var n=r(6324),a=r(748);e.exports=Object.keys||function(e){return n(e,a)}},9826:(e,t,r)=>{"use strict";var n=r(2109),a=r(2092).find,s=r(1223),o="find",i=!0;o in[]&&Array(1).find((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},1249:(e,t,r)=>{"use strict";var n=r(2109),a=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}},e=>{e.O(0,[9755,8029],(()=>{return t=1376,e(e.s=t);var t}));e.O()}]);