(self.webpackChunk=self.webpackChunk||[]).push([[866],{5668:(e,r,a)=>{var n=a(9755);function t(e,r,a,n,t,s,o){try{var i=e[s](o),c=i.value}catch(e){return void a(e)}i.done?r(c):Promise.resolve(c).then(n,t)}function s(e){return function(){var r=this,a=arguments;return new Promise((function(n,s){var o=e.apply(r,a);function i(e){t(o,n,s,i,c,"next",e)}function c(e){t(o,n,s,i,c,"throw",e)}i(void 0)}))}}a(3076),a(9554),a(1539),a(4747),a(9826),a(2772),a(561),a(4916),a(4765),a(8674),n(document).ready((function(){var e=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}),r=!1,a=[],t=n("#datables_gestion_borderaux").DataTable({lengthMenu:[[10,15,25,50,100,2e13],[10,15,25,50,100,"All"]],order:[[0,"desc"]],ajax:"/honoraire/gestion_borderaux/list",processing:!0,serverSide:!0,deferRender:!0,scrollX:!0,drawCallback:function(){a.forEach((function(e){n("body tr#"+e).find("input").prop("checked",!0)})),n("body tr#"+r).addClass("active_databales")},language:datatablesFrench});n("body").on("dblclick","#datables_gestion_borderaux tbody tr",(function(e){e.preventDefault(),n(this).hasClass("active_databales")?(n(this).removeClass("active_databales"),r=null):(n("#datables_gestion_borderaux tbody tr").removeClass("active_databales"),n(this).addClass("active_databales"),r=n(this).attr("id"))})),n("body").on("click","#datables_gestion_borderaux tbody tr",(function(e){e.preventDefault();var r=n(this).find("input");if(!r.hasClass("check_seance")){if(r.is(":checked")){r.prop("checked",!1);var t=a.indexOf(r.attr("data-id"));a.splice(t,1)}else r.prop("checked",!0),a.push(r.attr("data-id"));console.log(a)}})),n("select").select2(),n("#etablissement").on("change",s(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(this).val(),t.columns().search(""),a="",""==r){e.next=12;break}return""!=n("#semaine").val()&&t.columns(3).search(n("#semaine").val()),t.columns(0).search(r).draw(),e.next=8,axios.get("/api/formation/"+r);case 8:s=e.sent,a=s.data,e.next=14;break;case 12:t.columns().search("").draw(),""!=n("#semaine").val()&&t.columns(3).search(n("#semaine").val()).draw();case 14:n("#promotion").html("").select2(),n("#formation").html(a).select2();case 16:case"end":return e.stop()}}),e,this)})))),n("#formation").on("change",s(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(this).val(),t.columns().search(""),""!=n("#semaine").val()&&t.columns(3).search(n("#semaine").val()),a="",""==r){e.next=12;break}return t.columns(1).search(r).draw(),e.next=8,axios.get("/api/promotion/"+r);case 8:s=e.sent,a=s.data,e.next=13;break;case 12:t.columns(0).search(n("#etablissement").val()).draw();case 13:n("#promotion").html(a).select2();case 14:case"end":return e.stop()}}),e,this)})))),n("#promotion").on("change",s(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(this).val(),t.columns().search(""),""!=n("#semaine").val()&&t.columns(3).search(n("#semaine").val()),""==r){e.next=11;break}return t.columns(2).search(r).draw(),e.next=7,axios.get("/api/semestre/"+r);case 7:a=e.sent,response=a.data,e.next=12;break;case 11:t.columns(1).search(n("#formation").val()).draw();case 12:case"end":return e.stop()}}),e,this)})))),n("#semaine").on("change",s(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n(this).val(),t.columns(3).search(r).draw();case 2:case"end":return e.stop()}}),e,this)})))),n("body").on("click","#imprimer",function(){var a=s(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r){a.next=4;break}return e.fire({icon:"error",title:"Merci de Choisir une ligne!"}),a.abrupt("return");case 4:window.open("/honoraire/creation_borderaux/honoraire_borderaux/"+r,"_blank");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),n("body").on("click","#annuler",function(){var r=s(regeneratorRuntime.mark((function r(s){var o,i,c,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s.preventDefault(),0!==a.length){r.next=4;break}return e.fire({icon:"error",title:"Merci de Choisir au moins une ligne!"}),r.abrupt("return");case 4:return(o=n("#annuler i")).removeClass("fa-times-circle").addClass("fa-spinner fa-spin"),(i=new FormData).append("ids_borderaux",JSON.stringify(a)),r.prev=8,r.next=11,axios.post("/honoraire/gestion_borderaux/annuler_borderaux",i);case 11:c=r.sent,u=c.data,e.fire({icon:"success",title:u}),a=[],t.ajax.reload(null,!1),o.addClass("fa-times-circle").removeClass("fa-spinner fa-spin"),r.next=23;break;case 19:r.prev=19,r.t0=r.catch(8),r.t0.response.data,o.addClass("fa-times-circle").removeClass("fa-spinner fa-spin");case 23:case"end":return r.stop()}}),r,null,[[8,19]])})));return function(e){return r.apply(this,arguments)}}()),n("body").on("click","#exporter",function(){var r=s(regeneratorRuntime.mark((function r(t){var s,o,i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),0!==a.length){r.next=4;break}return e.fire({icon:"error",title:"Merci de Choisir au moins une ligne!"}),r.abrupt("return");case 4:return(s=n("#exporter i")).removeClass("fab fa-telegram-plane").addClass("fas fa-spinner fa-spin"),(o=new FormData).append("ids_borderaux",JSON.stringify(a)),r.prev=8,r.next=11,axios.post("/honoraire/gestion_borderaux/exporter_borderaux",o);case 11:i=r.sent,c=i.data,e.fire({icon:"success",title:"Rapprt Bien GÃ©nÃ©rer"}),s.addClass("fab fa-telegram-plane").removeClass("fas fa-spinner fa-spin"),window.open("/uploads/honoraire/"+c,"_blank"),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(8),r.t0.response.data,s.addClass("fab fa-telegram-plane").removeClass("fas fa-spinner fa-spin");case 22:case"end":return r.stop()}}),r,null,[[8,18]])})));return function(e){return r.apply(this,arguments)}}()),n("body").on("click","#extraction_honoraire",function(){var e=s(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),window.open("/honoraire/gestion_borderaux/extraction_honoraire","_blank");case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())}))}},e=>{e.O(0,[9755,8029,5293],(()=>{return r=5668,e(e.s=r);var r}));e.O()}]);