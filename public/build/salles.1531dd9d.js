(self.webpackChunk=self.webpackChunk||[]).push([[480],{9804:(e,a,r)=>{var t=r(9755);function s(e,a,r,t,s,n,i){try{var o=e[n](i),l=o.value}catch(e){return void r(e)}o.done?a(l):Promise.resolve(l).then(t,s)}function n(e){return function(){var a=this,r=arguments;return new Promise((function(t,n){var i=e.apply(a,r);function o(e){s(i,t,n,o,l,"next",e)}function l(e){s(i,t,n,o,l,"throw",e)}o(void 0)}))}}r(1539),r(8674),r(3076);var i=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}});t(document).ready((function(){t("select").select2();var e=t("#datatables_gestion_salles").DataTable({lengthMenu:[[10,15,25,50,100,2e13],[10,15,25,50,100,"All"]],order:[[0,"desc"]],ajax:"/parametre/salles/list",processing:!0,serverSide:!0,deferRender:!0,language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/French.json"}});t("body").on("click","#datatables_gestion_salles tbody tr",(function(){t(this).hasClass("active_databales")?(t(this).removeClass("active_databales"),id_salle=null):(t("#datatables_gestion_salles tbody tr").removeClass("active_databales"),t(this).addClass("active_databales"),id_salle=t(this).attr("id")),console.log(id_salle)})),t("#ajouter").on("click",(function(){t("#ajout_modal").modal("show")})),t("#save").on("submit",function(){var a=n(regeneratorRuntime.mark((function a(r){var s,n,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),s=new FormData(t("#save")[0]),n=t("#save button i"),a.prev=3,n.remove("fa-check-circle").addClass("fa-spinner fa-spin "),a.next=7,axios.post("/parametre/salles/new",s);case 7:o=a.sent,o.data,n.addClass("fa-check-circle").removeClass("fa-spinner fa-spin "),t("#save")[0].reset(),e.ajax.reload(),id_salle=!1,t("#ajout_modal").modal("hide"),i.fire({icon:"success",title:message}),a.next=23;break;case 17:a.prev=17,a.t0=a.catch(3),console.log(a.t0,a.t0.response),l=a.t0.response.data,i.fire({icon:"error",title:l}),n.addClass("fa-check-circle").removeClass("fa-spinner fa-spin ");case 23:case"end":return a.stop()}}),a,null,[[3,17]])})));return function(e){return a.apply(this,arguments)}}()),t("#modifier").on("click",n(regeneratorRuntime.mark((function e(){var a,r,s,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(id_salle){e.next=3;break}return i.fire({icon:"error",title:"Veuillez selectioner une ligne!"}),e.abrupt("return");case 3:return(a=t("#modifier i")).remove("fa-edit").addClass("fa-spinner fa-spin "),e.prev=5,e.next=8,axios.get("/parametre/salles/details/"+id_salle);case 8:r=e.sent,s=r.data,console.log(s),a.addClass("fa-edit").removeClass("fa-spinner fa-spin "),t("body #modifier_modal #update").html(s),t("select").select2(),t("#modifier_modal").modal("show"),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0,e.t0.response),n=e.t0.response.data,i.fire({icon:"error",title:n}),a.addClass("fa-edit").removeClass("fa-spinner fa-spin ");case 23:case"end":return e.stop()}}),e,null,[[5,17]])})))),t("#update").on("submit",function(){var a=n(regeneratorRuntime.mark((function a(r){var s,n,o,l,c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),s=new FormData(t("#update")[0]),n=t("#update button i"),a.prev=3,n.remove("fa-check-circle").addClass("fa-spinner fa-spin "),a.next=7,axios.post("/parametre/salles/update/"+id_salle,s);case 7:o=a.sent,l=o.data,t("#update")[0].reset(),n.addClass("fa-check-circle").removeClass("fa-spinner fa-spin "),e.ajax.reload(),id_salle=!1,t("#modifier_modal").modal("hide"),i.fire({icon:"success",title:l}),a.next=23;break;case 17:a.prev=17,a.t0=a.catch(3),console.log(a.t0,a.t0.response),c=a.t0.response.data,i.fire({icon:"error",title:c}),n.addClass("fa-check-circle").removeClass("fa-spinner fa-spin ");case 23:case"end":return a.stop()}}),a,null,[[3,17]])})));return function(e){return a.apply(this,arguments)}}()),t("#supprimer").on("click",n(regeneratorRuntime.mark((function a(){var r,s,n,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(id_salle){a.next=3;break}return i.fire({icon:"error",title:"Veuillez selectioner une ligne!"}),a.abrupt("return");case 3:if(r=t("#supprimer i"),1!=confirm("Vous voulez vraiment supprimer cette salle ?")){a.next=24;break}return r.removeClass("fa-trash").addClass("fa-spinner fa-spin "),a.prev=7,a.next=10,axios.post("/parametre/salles/delete/"+id_salle);case 10:s=a.sent,n=s.data,e.ajax.reload(),id_salle=!1,r.addClass("fa-trash").removeClass("fa-spinner fa-spin "),i.fire({icon:"success",title:n}),a.next=24;break;case 18:a.prev=18,a.t0=a.catch(7),console.log(a.t0,a.t0.response),o=a.t0.response.data,i.fire({icon:"error",title:o}),r.addClass("fa-trash").removeClass("fa-spinner fa-spin ");case 24:case"end":return a.stop()}}),a,null,[[7,18]])})))),t("#extraction").on("click",function(){var e=n(regeneratorRuntime.mark((function e(a){var r,s,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(r=t("#extraction i")).removeClass("fa-print").addClass("fa-spinner fa-spin"),e.prev=3,e.next=6,axios.post("/parametre/salles/extraction");case 6:s=e.sent,n=s.data,window.open("/"+n.file,"_blank"),r.addClass("fa-print").removeClass("fa-spinner fa-spin "),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(3),o=e.t0.response.data,console.log(e.t0,e.t0.response),i.fire({icon:"error",title:o}),r.addClass("fa-print").removeClass("fa-spinner fa-spin ");case 18:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}())}))}},e=>{e.O(0,[9755,8029],(()=>{return a=9804,e(e.s=a);var a}));e.O()}]);