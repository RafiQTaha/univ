(self.webpackChunk=self.webpackChunk||[]).push([[8876],{9615:(e,a,n)=>{var r=n(9755);function s(e,a,n,r,s,t,c){try{var o=e[t](c),i=o.value}catch(e){return void n(e)}o.done?a(i):Promise.resolve(i).then(r,s)}function t(e){return function(){var a=this,n=arguments;return new Promise((function(r,t){var c=e.apply(a,n);function o(e){s(c,r,t,o,i,"next",e)}function i(e){s(c,r,t,o,i,"throw",e)}o(void 0)}))}}n(3076),n(9554),n(1539),n(4747),n(9826),n(2772),n(561),n(1249),n(4916),n(4765),n(8674),r(document).ready((function(){var e=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}),a=!1,n=[],s=r("#datables_generation_honoraires").DataTable({lengthMenu:[[10,15,25,50,100,2e13],[10,15,25,50,100,"All"]],order:[[0,"desc"]],ajax:"/honoraire/generation/list",processing:!0,serverSide:!0,deferRender:!0,scrollX:!0,drawCallback:function(){n.forEach((function(e){r("body tr#"+e).find("input").prop("checked",!0)})),r("body tr#"+a).addClass("active_databales")},language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/French.json"},columnDefs:[{targets:[1],orderable:!1}]});r("body").on("dblclick","#datables_generation_honoraires tbody tr",(function(e){e.preventDefault(),r(this).hasClass("active_databales")?(r(this).removeClass("active_databales"),a=null):(r("#datables_generation_honoraires tbody tr").removeClass("active_databales"),r(this).addClass("active_databales"),a=r(this).attr("id"))})),r("body").on("click","#datables_generation_honoraires tbody tr",(function(e){e.preventDefault();var a=r(this).find("input");if(!a.hasClass("check_reg")){if(a.is(":checked")){a.prop("checked",!1);var s=n.indexOf(a.attr("data-id"));n.splice(s,1)}else a.prop("checked",!0),n.push(a.attr("data-id"));console.log(n)}})),r("body").on("click",".check_all_seances",(function(){n=[];var e=r("body #check_seance");1==r(".check_all_seances").prop("checked")?(e.prop("checked",!0),e.map((function(){n.push(this.value)}))):e.prop("checked",!1)})),r("select").select2(),r("#etablissement").on("change",t(regeneratorRuntime.mark((function e(){var a,n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),s.columns().search(""),n="",""==a){e.next=15;break}return""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()),""!=r("#annuler").val()&&s.columns(9).search(r("#niv").val()),s.columns(0).search(a).draw(),e.next=11,axios.get("/api/formation/"+a);case 11:t=e.sent,n=t.data,e.next=19;break;case 15:s.columns().search("").draw(),""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()).draw(),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()).draw(),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()).draw();case 19:r("#niv1").html("").select2(),r("#niv2").html("").select2(),r("#niv3").html("").select2(),r("#semestre").html("").select2(),r("#module").html("").select2(),r("#element").html("").select2(),r("#promotion").html("").select2(),r("#formation").html(n).select2();case 27:case"end":return e.stop()}}),e,this)})))),r("#formation").on("change",t(regeneratorRuntime.mark((function e(){var a,n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),s.columns().search(""),""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()),n="",""==a){e.next=14;break}return s.columns(1).search(a).draw(),e.next=10,axios.get("/api/promotion/"+a);case 10:t=e.sent,n=t.data,e.next=15;break;case 14:s.columns(0).search(r("#etablissement").val()).draw();case 15:r("#niv1").html("").select2(),r("#niv2").html("").select2(),r("#niv3").html("").select2(),r("#semestre").html("").select2(),r("#module").html("").select2(),r("#element").html("").select2(),r("#promotion").html(n).select2();case 22:case"end":return e.stop()}}),e,this)})))),r("#promotion").on("change",t(regeneratorRuntime.mark((function e(){var a,n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),s.columns().search(""),""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()),""==a){e.next=17;break}return s.columns(2).search(a).draw(),e.next=9,axios.get("/api/semestre/"+a);case 9:return n=e.sent,response=n.data,e.next=13,axios.get("/api/niv1/"+a);case 13:t=e.sent,niv1=t.data,e.next=18;break;case 17:s.columns(1).search(r("#formation").val()).draw();case 18:r("#niv1").html(niv1).select2(),r("#niv2").html("").select2(),r("#niv3").html("").select2(),r("#semestre").html("").select2(),r("#module").html("").select2(),r("#element").html("").select2(),r("#semestre").html(response).select2();case 25:case"end":return e.stop()}}),e,this)})))),r("#semestre").on("change",t(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),s.columns().search(""),""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()),""!=r("#niv1").val()&&s.columns(9).search(r("#niv1").val()),""!=r("#niv2").val()&&s.columns(10).search(r("#niv2").val()),""!=r("#niv3").val()&&s.columns(11).search(r("#niv3").val()),""==a){e.next=16;break}return s.columns(3).search(a).draw(),e.next=12,axios.get("/api/module/"+a);case 12:n=e.sent,response=n.data,e.next=17;break;case 16:s.columns(2).search(r("#promotion").val()).draw();case 17:r("#element").html("").select2(),r("#module").html(response).select2();case 19:case"end":return e.stop()}}),e,this)})))),r("#module").on("change",t(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),s.columns().search(""),""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()),""!=r("#niv1").val()&&s.columns(9).search(r("#niv1").val()),""!=r("#niv2").val()&&s.columns(10).search(r("#niv2").val()),""!=r("#niv3").val()&&s.columns(11).search(r("#niv3").val()),""==a){e.next=16;break}return s.columns(4).search(a).draw(),e.next=12,axios.get("/api/element/"+a);case 12:n=e.sent,response=n.data,e.next=17;break;case 16:s.columns(3).search(r("#semestre").val()).draw();case 17:r("#element").html(response).select2();case 18:case"end":return e.stop()}}),e,this)})))),r("#element").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(this).val(),s.columns().search(""),""!=r("#semaine").val()&&s.columns(6).search(r("#semaine").val()),""!=r("#professeur").val()&&s.columns(7).search(r("#professeur").val()),""!=r("#grade").val()&&s.columns(8).search(r("#grade").val()),""!=r("#niv1").val()&&s.columns(9).search(r("#niv1").val()),""!=r("#niv2").val()&&s.columns(10).search(r("#niv2").val()),""!=r("#niv3").val()&&s.columns(11).search(r("#niv3").val()),s.columns(5).search(a).draw();case 9:case"end":return e.stop()}}),e,this)})))),r("#semaine").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(this).val(),s.columns(6).search(a).draw();case 2:case"end":return e.stop()}}),e,this)})))),r("#professeur").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(this).val(),s.columns(7).search(a).draw();case 2:case"end":return e.stop()}}),e,this)})))),r("#grade").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(this).val(),s.columns(8).search(a).draw();case 2:case"end":return e.stop()}}),e,this)})))),r("#niv1").on("change",t(regeneratorRuntime.mark((function e(){var a,n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),n="",""==a){e.next=10;break}return niv=a,e.next=6,axios.get("/api/niv2/"+a);case 6:t=e.sent,n=t.data,e.next=11;break;case 10:niv=0;case 11:s.columns(9).search(a).draw(),r("#niv3").html("").select2(),r("#niv2").html(n).select2();case 14:case"end":return e.stop()}}),e,this)})))),r("#niv2").on("change",t(regeneratorRuntime.mark((function e(){var a,n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(this).val(),n="",""==a){e.next=10;break}return niv=a,e.next=6,axios.get("/api/niv3/"+a);case 6:t=e.sent,n=t.data,e.next=11;break;case 10:niv=r("#niv1").val();case 11:r("#niv3").html(n).select2(),s.columns(10).search(a).draw();case 13:case"end":return e.stop()}}),e,this)})))),r("#niv3").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(this).val(),"",niv=""!=a?a:r("#niv2").val(),s.columns(11).search(a).draw();case 4:case"end":return e.stop()}}),e,this)})))),r("body").on("click","#generer",function(){var a=t(regeneratorRuntime.mark((function a(t){var c,o,i,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),0!==n.length){a.next=4;break}return e.fire({icon:"error",title:"Merci de Choisir au moins une ligne"}),a.abrupt("return");case 4:return(c=r("#generer i")).removeClass("fab fa-get-pocket").addClass("fas fa-spinner fa-spin"),(o=new FormData).append("ids_seances",JSON.stringify(n)),a.prev=8,a.next=11,axios.post("/honoraire/generation/generation_honoraire_generer",o);case 11:i=a.sent,l=i.data,e.fire({icon:"success",title:l}),s.ajax.reload(null,!1),n=[],c.addClass("fab fa-get-pocket").removeClass("fas fa-spinner fa-spin"),a.next=23;break;case 19:a.prev=19,a.t0=a.catch(8),a.t0.response.data,c.addClass("fab fa-get-pocket").removeClass("fas fa-spinner fa-spin");case 23:case"end":return a.stop()}}),a,null,[[8,19]])})));return function(e){return a.apply(this,arguments)}}())}))}},e=>{e.O(0,[9755,8029,5160],(()=>{return a=9615,e(e.s=a);var a}));e.O()}]);