(self.webpackChunk=self.webpackChunk||[]).push([[2411],{4805:(e,a,r)=>{var n=r(9755);function s(e,a,r,n,s,t,o){try{var c=e[t](o),i=c.value}catch(e){return void r(e)}c.done?a(i):Promise.resolve(i).then(n,s)}function t(e){return function(){var a=this,r=arguments;return new Promise((function(n,t){var o=e.apply(a,r);function c(e){s(o,n,t,c,i,"next",e)}function i(e){s(o,n,t,c,i,"throw",e)}c(void 0)}))}}r(3076),r(9554),r(1539),r(4747),r(9826),r(2772),r(561),r(1249),r(4916),r(4765),r(8674),n(document).ready((function(){var e=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}),a=!1,r=!1,s=[],o=n("#datables_creation_borderaux").DataTable({lengthMenu:[[10,15,25,50,100,2e13],[10,15,25,50,100,"All"]],order:[[0,"desc"]],ajax:"/honoraire/creation_borderaux/list",processing:!0,serverSide:!0,deferRender:!0,scrollX:!0,drawCallback:function(){s.forEach((function(e){n("body tr#"+e).find("input").prop("checked",!0)})),n("body tr#"+r).addClass("active_databales")},columnDefs:[{targets:[1],orderable:!1}],language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/French.json"}});n("body").on("dblclick","#datables_creation_borderaux tbody tr",(function(e){e.preventDefault(),n(this).hasClass("active_databales")?(n(this).removeClass("active_databales"),r=null):(n("#datables_creation_borderaux tbody tr").removeClass("active_databales"),n(this).addClass("active_databales"),r=n(this).attr("id"))})),n("body").on("click","#datables_creation_borderaux tbody tr",(function(e){e.preventDefault();var a=n(this).find("input");if(!a.hasClass("check_seance")){if(a.is(":checked")){a.prop("checked",!1);var r=s.indexOf(a.attr("data-id"));s.splice(r,1)}else a.prop("checked",!0),s.push(a.attr("data-id"));console.log(s)}})),n("body").on("click",".check_all_seances",(function(){s=[];var e=n("body #check_seance");1==n(".check_all_seances").prop("checked")?(e.prop("checked",!0),e.map((function(){s.push(this.value)}))):e.prop("checked",!1),console.log(s)})),n("select").select2(),n("#etablissement").on("change",t(regeneratorRuntime.mark((function e(){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(this).val(),o.columns().search(""),r="",""==a){e.next=14;break}return""!=n("#semaine").val()&&o.columns(5).search(n("#semaine").val()),""!=n("#professeur").val()&&o.columns(6).search(n("#professeur").val()),""!=n("#grade").val()&&o.columns(4).search(n("#grade").val()),o.columns(0).search(a).draw(),e.next=10,axios.get("/api/formation/"+a);case 10:s=e.sent,r=s.data,e.next=18;break;case 14:o.columns().search("").draw(),""!=n("#semaine").val()&&o.columns(5).search(n("#semaine").val()).draw(),""!=n("#professeur").val()&&o.columns(6).search(n("#professeur").val()).draw(),""!=n("#grade").val()&&o.columns(4).search(n("#grade").val()).draw();case 18:n("#semestre").html("").select2(),n("#promotion").html("").select2(),n("#formation").html(r).select2();case 21:case"end":return e.stop()}}),e,this)})))),n("#formation").on("change",t(regeneratorRuntime.mark((function e(){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(this).val(),o.columns().search(""),""!=n("#semaine").val()&&o.columns(5).search(n("#semaine").val()),""!=n("#professeur").val()&&o.columns(6).search(n("#professeur").val()),""!=n("#grade").val()&&o.columns(4).search(n("#grade").val()),r="",""==a){e.next=14;break}return o.columns(1).search(a).draw(),e.next=10,axios.get("/api/promotion/"+a);case 10:s=e.sent,r=s.data,e.next=15;break;case 14:o.columns(0).search(n("#etablissement").val()).draw();case 15:n("#semestre").html("").select2(),n("#promotion").html(r).select2();case 17:case"end":return e.stop()}}),e,this)})))),n("#promotion").on("change",t(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(this).val(),o.columns().search(""),""!=n("#semaine").val()&&o.columns(5).search(n("#semaine").val()),""!=n("#professeur").val()&&o.columns(6).search(n("#professeur").val()),""!=n("#grade").val()&&o.columns(4).search(n("#grade").val()),""==a){e.next=13;break}return o.columns(2).search(a).draw(),e.next=9,axios.get("/api/semestre/"+a);case 9:r=e.sent,response=r.data,e.next=14;break;case 13:o.columns(1).search(n("#formation").val()).draw();case 14:n("#semestre").html("").select2(),n("#semestre").html(response).select2();case 16:case"end":return e.stop()}}),e,this)})))),n("#semestre").on("change",t(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(this).val(),o.columns().search(""),""!=n("#semaine").val()&&o.columns(5).search(n("#semaine").val()),""!=n("#professeur").val()&&o.columns(6).search(n("#professeur").val()),""!=n("#grade").val()&&o.columns(4).search(n("#grade").val()),""==a){e.next=13;break}return o.columns(3).search(a).draw(),e.next=9,axios.get("/api/module/"+a);case 9:r=e.sent,response=r.data,e.next=14;break;case 13:o.columns(2).search(n("#promotion").val()).draw();case 14:case"end":return e.stop()}}),e,this)})))),n("#semaine").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(this).val(),o.columns(5).search(a).draw();case 2:case"end":return e.stop()}}),e,this)})))),n("#semaine").select2({minimumInputLength:10,allowClear:!0,placeholder:"2022-10-10",language:"fr",ajax:{dataType:"json",url:"/honoraire/creation_borderaux/findSemaine",delay:5,data:function(e){return{search:e.term}},processResults:function(e,a){return{results:[{text:"Semaine "+e.nsemaine+" de: "+e.debut+" Ã  "+e.fin,id:e.id}]}}}}),n("#professeur").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(this).val(),o.columns(6).search(a).draw();case 2:case"end":return e.stop()}}),e,this)})))),n("#grade").on("change",t(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(this).val(),o.columns(4).search(a).draw();case 2:case"end":return e.stop()}}),e,this)})))),n("#semaine_day").on("change",t(regeneratorRuntime.mark((function e(){var r,s,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(this).val(),a=!1,console.log(r),o.columns(7).search(r).draw(),""==r){e.next=11;break}return(s=new FormData).append("semaine_day",r),e.next=9,axios.post("/honoraire/creation_borderaux/findSemainePlanning",s);case 9:0!=(t=e.sent).data&&(a=t.data);case 11:case"end":return e.stop()}}),e,this)})))),n("body").on("click","#cree",function(){var r=t(regeneratorRuntime.mark((function r(t){var c,i,l,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),0!==s.length&&""!=n("#promotion").val()&&(""!=n("#semaine").val()||a)){r.next=4;break}return e.fire({icon:"error",title:"Merci de Choisir une semestre et une semaine et au moins une ligne!"}),r.abrupt("return");case 4:return(c=n("#cree i")).removeClass("fa-folder-open").addClass("fa-spinner fa-spin"),(i=new FormData).append("ids_seances",JSON.stringify(s)),i.append("promotion",n("#promotion").val()),a?i.append("semaine",a):i.append("semaine",n("#semaine").val()),r.prev=10,r.next=13,axios.post("/honoraire/creation_borderaux/cree_borderaux",i);case 13:l=r.sent,u=l.data,e.fire({icon:"success",title:"Borderaux Bien CrÃ©e"}),s=[],window.open("/honoraire/creation_borderaux/honoraire_borderaux/"+u,"_blank"),o.ajax.reload(null,!1),c.addClass("fa-folder-open").removeClass("fa-spinner fa-spin"),r.next=26;break;case 22:r.prev=22,r.t0=r.catch(10),r.t0.response.data,c.addClass("fa-folder-open").removeClass("fa-spinner fa-spin");case 26:case"end":return r.stop()}}),r,null,[[10,22]])})));return function(e){return r.apply(this,arguments)}}())}))},1249:(e,a,r)=>{"use strict";var n=r(2109),s=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})}},e=>{e.O(0,[9755,8029,5293],(()=>{return a=4805,e(e.s=a);var a}));e.O()}]);